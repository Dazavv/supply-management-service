# Supply Management Service

**Supply Management Service** ‚Äî —ç—Ç–æ RESTful —Å–µ—Ä–≤–∏—Å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞–º–∏ –∏ –ø—Ä–æ–¥—É–∫—Ç–∞–º–∏. –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –Ω–∞ **Spring Boot**, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **Spring Security —Å JWT** –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏, –∞ —Ç–∞–∫–∂–µ **PostgreSQL** –≤ –∫–∞—á–µ—Å—Ç–≤–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö.

---

## üì¶ –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

### –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∏ —Ä–æ–ª–∏

* **ADMIN** ‚Äî –¥–æ—Å—Ç—É–ø –∫ —Å–æ–∑–¥–∞–Ω–∏—é/–∏–∑–º–µ–Ω–µ–Ω–∏—é –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤, –ø—Ä–æ—Å–º–æ—Ç—Ä –ø—Ä–æ–¥—É–∫—Ç–æ–≤/–ø–æ—Å—Ç–∞–≤–æ–∫/–æ—Ç—á–µ—Ç–∞.
* **SUPPLIER** ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–≤–æ–∏–º–∏ –ø—Ä–æ–¥—É–∫—Ç–∞–º–∏/–ø–æ—Å—Ç–∞–≤–∫–∞–º–∏.
* **VIEWER** ‚Äî —Ä–æ–ª—å, –ø–æ–ª—É—á–µ–Ω–Ω–∞—è –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏. –î–ª—è –¥–∞–ª—å–Ω–µ–π—à–µ–≥–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å —Å–µ—Ä–≤–∏—Å–æ–º –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç –ø–æ–ª—É—á–∏—Ç—å —Ä–æ–ª—å Admin –∏–ª–∏ Supplier.

### –ü–æ—Å—Ç–∞–≤—â–∏–∫–∏ (Suppliers)

* –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞ (—Ç–æ–ª—å–∫–æ ADMIN)
* –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø–æ—Å—Ç–∞–≤—â–∏–∫–µ
* –£–¥–∞–ª–µ–Ω–∏–µ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞ (—Ç–æ–ª—å–∫–æ ADMIN, —Å —É–¥–∞–ª–µ–Ω–∏–µ–º –≤—Å–µ—Ö —Å–≤—è–∑–∞–Ω–Ω—ã—Ö –ø—Ä–æ–¥—É–∫—Ç–æ–≤)

### –ü—Ä–æ–¥—É–∫—Ç—ã (Products)

* –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–¥—É–∫—Ç–∞ (SUPPLIER)
* –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–¥—É–∫—Ç–∞ (SUPPLIER)
* –£–¥–∞–ª–µ–Ω–∏–µ –ø—Ä–æ–¥—É–∫—Ç–∞ (SUPPLIER)
* –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –ø—Ä–æ–¥—É–∫—Ç–æ–≤:

    * –ü–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º—É –ø–æ—Å—Ç–∞–≤—â–∏–∫—É (ADMIN)
    * –°–≤–æ–∏—Ö –ø—Ä–æ–¥—É–∫—Ç–æ–≤ (SUPPLIER)
* –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø—Ä–æ–¥—É–∫—Ç–∞ –ø–æ ID

---

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

* **Spring Boot 4**
* **Spring Security + JWT**
* **Spring Data JPA / Hibernate**
* **PostgreSQL**
* **Lombok**
* **JUnit 5 + MockMvc** –¥–ª—è —Ç–µ—Å—Ç–æ–≤
* **Docker**

---

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∏ –∑–∞–ø—É—Å–∫

1. –ö–ª–æ–Ω–∏—Ä—É–µ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:

```bash
git clone <repo_url>
cd supply-management-service
```

2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ `application.yml` / `application.properties`:

–ø—Ä–∏–º–µ—Ä yaml:
```yaml
jwt.secret.access=secretAccessToken
jwt.secret.refresh=secretRefreshToken

users.logins=admin,supplier1,supplier2,supplier3
users.passwords=admin,supplier1,supplier2,supplier3
users.names=Admin,supplier1,supplier2,supplier3
users.surnames=Admin,supplier1,supplier2,supplier3
users.emails=admin@example.com,supplier1@example.com,supplier2@example.com,supplier3@example.com
users.phones=+70000000001,+70000000002,+70000000003,+70000000004
users.roles=ADMIN,SUPPLIER,SUPPLIER,SUPPLIER
```

3. –°–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Docker Compose:

```bash
docker-compose up
```

---

## üîë –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

* –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **JWT —Ç–æ–∫–µ–Ω**.
* –î–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –∑–∞—â–∏—â—ë–Ω–Ω—ã–º —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞–º –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å —Ç–æ–∫–µ–Ω –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ:

```
Authorization: Bearer <your_jwt_token>
```

* –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã –¥–ª—è SUPPLIER –¥–æ—Å—Ç—É–ø–Ω—ã —Ç–æ–ª—å–∫–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é —Å —Ä–æ–ª—å—é `SUPPLIER`.
* –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã –¥–ª—è ADMIN ‚Äî —Ç–æ–ª—å–∫–æ –¥–ª—è —Ä–æ–ª–∏ `ADMIN`.

---

## üìö API –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã

### Suppliers

| –ú–µ—Ç–æ–¥  | URL                     | –†–æ–ª—å  | –û–ø–∏—Å–∞–Ω–∏–µ                                                        |
| ------ | ----------------------- | ----- | --------------------------------------------------------------- |
| GET    | `/api/v1/supplier`      | ADMIN | –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤                                |
| POST   | `/api/v1/supplier`      | ADMIN | –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤–æ–≥–æ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞                                       |
| GET    | `/api/v1/supplier/{id}` | ADMIN | –ü–æ–ª—É—á–∏—Ç—å –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞ –ø–æ ID                                       |
| PUT    | `/api/v1/supplier`      | ADMIN | –û–±–Ω–æ–≤–∏—Ç—å –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞                                             |
| DELETE | `/api/v1/supplier/{id}` | ADMIN | –£–¥–∞–ª–∏—Ç—å –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞ (—Å —É–¥–∞–ª–µ–Ω–∏–µ–º —Å–≤—è–∑–∞–Ω–Ω—ã—Ö –ø—Ä–æ–¥—É–∫—Ç–æ–≤ –∏ –¥–æ—Å—Ç–∞–≤–æ–∫) |


### Products

| –ú–µ—Ç–æ–¥  | URL                                            | –†–æ–ª—å     | –û–ø–∏—Å–∞–Ω–∏–µ                                 |
| ------ | ---------------------------------------------- | -------- | ---------------------------------------- |
| POST   | `/api/v1/products`                             | SUPPLIER | –°–æ–∑–¥–∞—Ç—å –ø—Ä–æ–¥—É–∫—Ç                          |
| PUT    | `/api/v1/products/{productId}`                 | SUPPLIER | –û–±–Ω–æ–≤–∏—Ç—å –ø—Ä–æ–¥—É–∫—Ç                         |
| DELETE | `/api/v1/products/delete/{productId}`          | SUPPLIER | –£–¥–∞–ª–∏—Ç—å –ø—Ä–æ–¥—É–∫—Ç                          |
| GET    | `/api/v1/products/supplier/me`                 | SUPPLIER | –ü–æ–ª—É—á–∏—Ç—å —Å–≤–æ–∏ –ø—Ä–æ–¥—É–∫—Ç—ã                   |
| GET    | `/api/v1/products/supplier/me/{productId}`     | SUPPLIER | –ü–æ–ª—É—á–∏—Ç—å —Å–≤–æ–π –ø—Ä–æ–¥—É–∫—Ç –ø–æ ID              |
| GET    | `/api/v1/products/admin/{productId}`           | ADMIN    | –ü–æ–ª—É—á–∏—Ç—å –ø—Ä–æ–¥—É–∫—Ç –ø–æ ID                   |
| GET    | `/api/v1/products/admin/supplier/{supplierId}` | ADMIN    | –ü–æ–ª—É—á–∏—Ç—å –ø—Ä–æ–¥—É–∫—Ç—ã –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞ |

### Delivery

| –ú–µ—Ç–æ–¥  | URL                                            | –†–æ–ª—å     | –û–ø–∏—Å–∞–Ω–∏–µ                                 |
| ------ | ---------------------------------------------- | -------- | ---------------------------------------- |
| POST   | `/api/v1/products`                             | SUPPLIER | –°–æ–∑–¥–∞—Ç—å –ø—Ä–æ–¥—É–∫—Ç                          |
| PUT    | `/api/v1/products/{productId}`                 | SUPPLIER | –û–±–Ω–æ–≤–∏—Ç—å –ø—Ä–æ–¥—É–∫—Ç                         |
| DELETE | `/api/v1/products/delete/{productId}`          | SUPPLIER | –£–¥–∞–ª–∏—Ç—å –ø—Ä–æ–¥—É–∫—Ç                          |
| GET    | `/api/v1/products/supplier/me`                 | SUPPLIER | –ü–æ–ª—É—á–∏—Ç—å —Å–≤–æ–∏ –ø—Ä–æ–¥—É–∫—Ç—ã                   |
| GET    | `/api/v1/products/supplier/me/{productId}`     | SUPPLIER | –ü–æ–ª—É—á–∏—Ç—å —Å–≤–æ–π –ø—Ä–æ–¥—É–∫—Ç –ø–æ ID              |
| GET    | `/api/v1/products/admin/{productId}`           | ADMIN    | –ü–æ–ª—É—á–∏—Ç—å –ø—Ä–æ–¥—É–∫—Ç –ø–æ ID                   |
| GET    | `/api/v1/products/admin/supplier/{supplierId}` | ADMIN    | –ü–æ–ª—É—á–∏—Ç—å –ø—Ä–æ–¥—É–∫—Ç—ã –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞ |

### User

| –ú–µ—Ç–æ–¥  | URL                   | –†–æ–ª—å  | –û–ø–∏—Å–∞–Ω–∏–µ                    |
| ------ | --------------------- | ----- | --------------------------- |
| POST   | `/api/v1/users/roles` | ADMIN | –ù–∞–∑–Ω–∞—á–∏—Ç—å —Ä–æ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é |
| GET    | `/api/v1/users`       | ADMIN | –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π |
| DELETE | `/api/v1/users/{id}`  | ADMIN | –£–¥–∞–ª–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è        |

### Report

| –ú–µ—Ç–æ–¥ | URL                                                | –†–æ–ª—å  | –û–ø–∏—Å–∞–Ω–∏–µ                                  |
| ----- | -------------------------------------------------- | ----- | ----------------------------------------- |
| POST  | `/api/v1/reports/deliveries`                       | ADMIN | –°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å –æ—Ç—á—ë—Ç –ø–æ –¥–æ—Å—Ç–∞–≤–∫–∞–º           |
| POST  | `/api/v1/reports/deliveries/supplier/{supplierId}` | ADMIN | –û—Ç—á—ë—Ç –ø–æ –¥–æ—Å—Ç–∞–≤–∫–∞–º –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞ |
| POST  | `/api/v1/reports/deliveries/export/csv`            | ADMIN | –≠–∫—Å–ø–æ—Ä—Ç –æ—Ç—á—ë—Ç–∞ –ø–æ –¥–æ—Å—Ç–∞–≤–∫–∞–º –≤ CSV         |


### Auth

| –ú–µ—Ç–æ–¥ | URL                     | –†–æ–ª—å | –û–ø–∏—Å–∞–Ω–∏–µ                           |
| ----- | ----------------------- | ---- | ---------------------------------- |
| POST  | `/api/v1/auth/register` | ‚Äî    | –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è    |
| POST  | `/api/v1/auth/login`    | ‚Äî    | –í—Ö–æ–¥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç JWT) |
| POST  | `/api/v1/auth/logout`   | ‚Äî    | –í—ã—Ö–æ–¥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–æ—Ç–∑—ã–≤ —Ç–æ–∫–µ–Ω–∞)  |
| POST  | `/api/v1/auth/refresh`  | ‚Äî    | –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ JWT —Ç–æ–∫–µ–Ω–∞              |
| POST  | `/api/v1/auth/token`    | ‚Äî    | –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –Ω–æ–≤–æ–≥–æ —Ç–æ–∫–µ–Ω–∞            |

---


## üìä –ü—Ä–∏–º–µ—Ä –æ—Ç—á—ë—Ç–∞ –ø–æ –¥–æ—Å—Ç–∞–≤–∫–∞–º

–≠–Ω–¥–ø–æ–∏–Ω—Ç:

```
POST /api/v1/reports/deliveries
```

**–û–ø–∏—Å–∞–Ω–∏–µ:**
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–≤–æ–¥–Ω—ã–π –æ—Ç—á—ë—Ç –ø–æ –¥–æ—Å—Ç–∞–≤–∫–∞–º –∑–∞ —É–∫–∞–∑–∞–Ω–Ω—ã–π –ø–µ—Ä–∏–æ–¥, –≤–∫–ª—é—á–∞—è –¥–∞–Ω–Ω—ã–µ –ø–æ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞–º, –ø—Ä–æ–¥—É–∫—Ç–∞–º –∏ —Å—É–º–º–∞—Ä–Ω—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏.

**–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞:**

```json
{
  "startDate": "2026-02-05T18:55:55.727Z",
  "endDate": "2026-02-28T18:55:55.727Z"
}
```

**–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞:**

```json
{
  "period": {
    "start": "2026-02-05T18:55:55.727",
    "end": "2026-02-28T18:55:55.727"
  },
  "suppliers": [
    {
      "supplierId": 1,
      "supplierName": "Supplier1",
      "totalWeight": 300,
      "totalPrice": 65000,
      "products": [
        {
          "supplierId": 1,
          "productName": "Apple Green",
          "productType": "APPLE",
          "totalWeight": 100,
          "totalPrice": 25000
        },
        {
          "supplierId": 1,
          "productName": "Apple Red",
          "productType": "APPLE",
          "totalWeight": 200,
          "totalPrice": 40000
        }
      ]
    },
    {
      "supplierId": 2,
      "supplierName": "Supplier2",
      "totalWeight": 600,
      "totalPrice": 130000,
      "products": [
        {
          "supplierId": 2,
          "productName": "Apple Green",
          "productType": "APPLE",
          "totalWeight": 200,
          "totalPrice": 50000
        },
        {
          "supplierId": 2,
          "productName": "Apple Red",
          "productType": "APPLE",
          "totalWeight": 400,
          "totalPrice": 80000
        }
      ]
    }
  ],
  "grandTotals": {
    "totalWeight": 900,
    "totalPrice": 195000
  }
}
```
